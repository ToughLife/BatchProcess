<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Batchprocess by ToughLife</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">Batchprocess</h1>
      <h2 class="project-tagline"></h2>
      <a href="https://github.com/ToughLife/BatchProcess" class="btn">View on GitHub</a>
      <a href="https://github.com/ToughLife/BatchProcess/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/ToughLife/BatchProcess/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <p>&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD</p>

<h1>
<a id="batch-processing---batch" class="anchor" href="#batch-processing---batch" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Batch processing - batch</h1>

<p><code>batch</code> allows you to execute many a bounch of commands in one command. Actually, it is
a string processing program to generate commands you needed.</p>

<h2>
<a id="installation-instructions" class="anchor" href="#installation-instructions" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Installation Instructions</h2>

<p>You have to install <a href="https://www.python.org/">Python</a> to get it work. The 
platform we have tested on is python 2.7.5, so we recommand that for you.</p>

<p>To install <code>batch</code>, you just copy <code>batch.py</code> to any folder that in you 
<code>PATH</code> enviroment variable.</p>

<h2>
<a id="basic-usage" class="anchor" href="#basic-usage" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Basic Usage</h2>

<p>The basic usage of <code>batch</code> is:</p>

<p><code>batch [options] user_command</code></p>

<p><code>user_command</code>  include the actual commands  and the command within 
<code>batch</code>. A hello-world-example of  <code>batch</code> is:</p>

<p><code>batch mkdir hello(#g 1 6)</code></p>

<p>This command will make 5 folder names from <code>hello1</code>, <code>hello2</code>... to 
<code>hello5</code> in current folder. <code>(#g 1 6)</code> is a function in <code>batch</code> which functions
like</p>

<div class="highlight highlight-source-python"><pre><span class="pl-c1">range</span>(<span class="pl-c1">1</span>, <span class="pl-c1">6</span>)</pre></div>

<p>in python. It generates a list ranges from [1,6). Then 
Actually, the commands being executed by the system is a group:</p>

<pre><code>mkdir hello1 
mkdir hello2
mkdir hello3
mkdir hello4
mkdir hello5
</code></pre>

<p>There are two kinds of commands within <code>batch</code> which are:</p>

<ul>
<li><p><strong>Variables</strong>: All variables are begin <code>@</code> sign, <em>e.g.</em>, <code>@1</code>,<code>@b1</code> etc. .The 
variables include user-defined variables and built-in variable. All the 
variables are generated
by <strong>Functions</strong>.</p></li>
<li><p><strong>Functions</strong>: The functions are in <a href="https://en.wikipedia.org/wiki/S-expression">s-expressions</a>.
The first arg in functions begin with <code>#</code>, like <code>#g</code> in the hello-world-example,
indicating which function it is. The following args is the parametes of the function.
<strong>Some of the functions may define Variables</strong>. Refer to <a href="#fclist">Function list</a>
for more information.</p></li>
</ul>

<h2>
<a id="options" class="anchor" href="#options" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Options</h2>

<ul>
<li>
<strong>-s</strong>: just show commands other than execute it</li>
<li>
<strong>-d</strong>: debug mode, <code>batch</code> will show most infomation that helps you debug your commands</li>
<li>
<strong>-p</strong>: paralell execute mode, <code>batch</code> will execute the final command in parallel mode
## Variable List</li>
</ul>

<h2>
<a id="function-list" class="anchor" href="#function-list" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a><a name="fclist"></a>Function List</h2>

<ol>
<li>
<strong><code>( )</code></strong>: The form of the function may seem to be very strange. Actually, this function just contac all the elements in the paratheses. The element may also be a list.
 <strong>Note:</strong> </li>
<li>The spaces between the elements is NOT ignored. </li>
<li>The lists in the same pair of paratheses MUST be equal length.
&gt; Example:</li>
</ol>

<div class="highlight highlight-source-python"><pre> (a b c) <span class="pl-k">=</span><span class="pl-k">&gt;</span> [<span class="pl-s"><span class="pl-pds">'</span>a<span class="pl-pds">'</span></span>,<span class="pl-s"><span class="pl-pds">'</span> b<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span> c<span class="pl-pds">'</span></span>], note the leading space of <span class="pl-ii">2rd</span> <span class="pl-k">and</span> <span class="pl-ii">3th</span> elements
 ((a)(b)(c)) <span class="pl-k">=</span><span class="pl-k">&gt;</span> [<span class="pl-s"><span class="pl-pds">'</span>a<span class="pl-pds">'</span></span>,<span class="pl-s"><span class="pl-pds">'</span>b<span class="pl-pds">'</span></span>,<span class="pl-s"><span class="pl-pds">'</span>c<span class="pl-pds">'</span></span>]
 (a((d)(e))b) <span class="pl-k">=</span><span class="pl-k">&gt;</span> [<span class="pl-s"><span class="pl-pds">'</span>adb<span class="pl-pds">'</span></span>,<span class="pl-s"><span class="pl-pds">'</span>aeb<span class="pl-pds">'</span></span>]
 (a((<span class="pl-c1">1</span>)(<span class="pl-c1">2</span>))c((<span class="pl-c1">3</span>)(<span class="pl-c1">4</span>))) <span class="pl-k">=</span><span class="pl-k">&gt;</span> [<span class="pl-s"><span class="pl-pds">'</span>a1c3<span class="pl-pds">'</span></span>,<span class="pl-s"><span class="pl-pds">'</span>a2c4<span class="pl-pds">'</span></span>]</pre></div>

<ol>
<li>
<strong><code>(#g lb ub [step])</code></strong> : Generate a list of numbers, from lower bound to upper bound (not included). <code>lb</code> and <code>ub</code> can be list (which must be equal length) which <code>#g</code> generate numbers in [<code>lb[0]</code>,<code>ub[0]</code>), [<code>lb[1]</code>,<code>ub[1]</code>)... <code>step</code> is an optional parameter, whose default value is 1.
 <strong>Note:</strong> the step parameter now is NOT implemented yet!
&gt; Example:</li>
</ol>

<div class="highlight highlight-source-python"><pre>(<span class="pl-c">#g 1 5) =&gt; ['1','2','3','4']</span>
(<span class="pl-c">#g 1 5 2) =&gt; ['1','3']</span>
(<span class="pl-c">#g (1 5) (3 8)) =&gt; ['1','2','5','6','7']</span></pre></div>

<ol>
<li>
<strong><code>(#s varargs)</code></strong> : Execute system command and returns a list contains each line of the ouput of the command. varargs may be <code>string</code> or <code>list</code> or a composition of them. The spaces between them is not ignored.
&gt; Example:</li>
</ol>

<div class="highlight highlight-source-python"><pre>(<span class="pl-c">#s mkdir ((a)(b))) =&gt; ['mkdir a', 'mkdir b']</span>
(<span class="pl-c">#s cat(#g 1 3) (#g 1 3).txt) =&gt; ['cat1 1.txt', 'cat2 2.txt']</span>
(<span class="pl-c">#s mkdir a\(#g 1 3)\b)=&gt;['mkdir a\1\b', 'mkdir a\2\b']</span></pre></div>

<ol>
<li>
<strong><code>(#e varargs)</code></strong> : Evaluate a python expression. 
&gt; Example:</li>
</ol>

<div class="highlight highlight-source-python"><pre>(<span class="pl-c">#s mkdir ((a)(b))) =&gt; ['mkdir a', 'mkdir b']</span>
(<span class="pl-c">#s cat(#g 1 3) (#g 1 3).txt) =&gt; ['cat1 1.txt', 'cat2 2.txt']</span>
(<span class="pl-c">#s mkdir a\(#g 1 3)\b)=&gt;['mkdir a\1\b', 'mkdir a\2\b']</span></pre></div>

<h2>
<a id="more-examples" class="anchor" href="#more-examples" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>More Examples</h2>

<p>In all examples, we just show the commands generated by <code>batch</code>.</p>

<ol>
<li>
<code>batch -s (#g 1 4)</code><br>
&gt; Output:</li>
</ol>

<pre><code>1
2
3
</code></pre>

<ol>
<li>
<code>batch -s (#m (#s cat a.txt)/abc(#g 1 4))</code><br>
&gt; The content in <code>a.txt</code>:</li>
</ol>

<pre><code>abc
def
</code></pre>

<blockquote>
<p>The output is :</p>

<pre><code>abc/abc1
abc/abc2
abc/abc3
def/abc1
def/abc2
def/abc3
</code></pre>
</blockquote>

<ol>
<li>
<code>batch -s (#e \"frame%05d-%3d.jpg\"%__[(#g 1 3),(#g 501 503)]__)</code>
&gt; The output:</li>
</ol>

<pre><code>frame00001-501.jpg
frame00002-502.jpg
</code></pre>

<ol>
<li>
<code>batch -s convert (#pf .*\.\w+) -resize 10% resized-@b.@e</code>
&gt; The files in current dir:</li>
</ol>

<pre><code>a.jpg
b.png
</code></pre>

<blockquote>
<p>The output:</p>

<pre><code>convert a.jpg -resize 10% resized-a.jpg
convert b.png -resize 10% resized-b.png
</code></pre>
</blockquote>

<ol>
<li>Super long but real example (you had better copy the following code into an editor to see the matchness of the parentheses):</li>
</ol>

<pre><code>batch.py -s -d (#D try2 d)(#PS (#s (#PF @d\(#m (#pd @d .*)((\1)(&amp;nbsn))) .*\.[pngjpegPNGJPEG]+) identify @f\@b.@e) __[\w+]__x__[\w+]__) convert wm.png -resize (#e \"%3.2f\"%__[min__[float__[@1]__,float__[@2]__]__/3543*100]__)% @f\wm@b.png ^&amp;^&amp; composite -gravity center @f\wm@b.png @f\@b.@e @f\@b.@e ^&amp;^&amp; del @f\wm@b.png
</code></pre>

<blockquote>
<p>The output:</p>

<pre><code>convert a.jpg -resize 10% resized-a.jpg
convert b.png -resize 10% resized-b.png
</code></pre>

<p>convert wm.png -resize 5.28% try2\101000404\1\wm01.png &amp;&amp; composite -gravity ce
nter try2\101000404\1\wm01.png try2\101000404\1\01.jpg try2\101000404\1\01.jpg &amp;</p>

<h1>
<a id="-del-try21010004041wm01png" class="anchor" href="#-del-try21010004041wm01png" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>&amp; del try2\101000404\1\wm01.png</h1>

<p>You can render <em>LaTeX</em> mathematical expressions using <strong>MathJax</strong>, as on [math.stackexchange.com][1]:</p>
</blockquote>

<p>The <em>Gamma function</em> satisfying $\Gamma(n) = (n-1)!\quad\forall n\in\mathbb N$ is via the Euler integral</p>

<p>$$
\Gamma(z) = \int_0^\infty t^{z-1}e^{-t}dt\,.
$$</p>

<blockquote>
<blockquote>
<blockquote>
<blockquote>
<blockquote>
<blockquote>
<blockquote>
<p>origin/master</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/ToughLife/BatchProcess">Batchprocess</a> is maintained by <a href="https://github.com/ToughLife">ToughLife</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>
